{% extends "base.html" %}
{% load static %}

{% block content %}
  <h2>{{ restaurant.get_name_display }}</h2>
  <div style="display: flex; flex-direction: row; gap: 64px;">
    <p>Номер {{ booking.room.number }} ({{ booking.check_in }}–{{ booking.check_out }})</p>
    <a href="{% url 'cart_detail' %}">
      <img src="{% static 'img/cart_icon.svg' %}" />
    </a>
  </div>
  <ul class="dishes">
    {% for dish in dishes %}
      <li>
        <img src="{{ dish.image_url }}" alt="{{ dish.name }}" width="80">
        <h4>{{ dish.name }} — {{ dish.price }} ₽</h4>
        <p>{{ dish.description }}</p>
        <form method="post" action="{% url 'cart_add' %}">
          {% csrf_token %}
          <input type="hidden" name="dish_id"    value="{{ dish.id }}">
          <input type="hidden" name="booking_id" value="{{ booking.pk }}">
        
          <label>Кол-во:
            <input type="number" name="quantity" value="1" min="1">
          </label>
        
          <button type="submit">Добавить в корзину</button>
        </form>        
      </li>
    {% endfor %}
  </ul>
  <p><a href="{% url 'restaurants' booking.id %}">← Выбрать другое заведение</a></p>
{% endblock %}
